"use strict";(self.webpackChunkhookah_docs=self.webpackChunkhookah_docs||[]).push([[507],{7401:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"building-blocks/conditions","title":"Conditions","description":"Conditions in Hookah are used to determine whether a matched event should trigger a request to the destination webhook.","source":"@site/docs/building-blocks/conditions.md","sourceDirName":"building-blocks","slug":"/building-blocks/conditions","permalink":"/hookah-docs/docs/building-blocks/conditions","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Authentication (auth)","permalink":"/hookah-docs/docs/building-blocks/auth"},"next":{"title":"Events","permalink":"/hookah-docs/docs/building-blocks/events"}}');var i=s(4848),t=s(8453);const d={sidebar_position:3},o="Conditions",a={},l=[{value:"Condition Syntax",id:"condition-syntax",level:2},{value:"Examples",id:"examples",level:2},{value:"Match Header and Body",id:"match-header-and-body",level:3},{value:"Value Not Equal",id:"value-not-equal",level:3},{value:"Check Value in Array",id:"check-value-in-array",level:3},{value:"String Starts With",id:"string-starts-with",level:3},{value:"Supported Operators",id:"supported-operators",level:2},{value:"Array Support",id:"array-support",level:2}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"conditions",children:"Conditions"})}),"\n",(0,i.jsx)(n.p,{children:"Conditions in Hookah are used to determine whether a matched event should trigger a request to the destination webhook.\nThey define rules that check if specific values in the incoming request meet certain criteria before forwarding the\nevent."}),"\n",(0,i.jsx)(n.h2,{id:"condition-syntax",children:"Condition Syntax"}),"\n",(0,i.jsx)(n.p,{children:"Conditions use a simple and readable templating language. The basic syntax is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"{<left-value>} {<operator>} {<right-value>}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Where:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"{Header.X-Foo}"})," refers to a request header or query parameter."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"{Body.foo.bar}"})," refers to a nested field in the request body."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"{Body.foo[].bar}"})," performs ",(0,i.jsx)(n.strong,{children:"array projection"}),", collecting all ",(0,i.jsx)(n.code,{children:".bar"})," fields from the array ",(0,i.jsx)(n.code,{children:"foo"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"{Body.items[0].name}"})," accesses a specific index in an array (e.g., the first item in the ",(0,i.jsx)(n.code,{children:"items"})," array)."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This syntax allows for powerful and flexible matching based on various parts of the request payload."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.h3,{id:"match-header-and-body",children:"Match Header and Body"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"{Header.x-user-id} {eq} {Body.user.id}"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Checks if the ",(0,i.jsx)(n.code,{children:"x-user-id"})," header matches the ",(0,i.jsx)(n.code,{children:"user.id"})," field in the request body."]}),"\n",(0,i.jsx)(n.h3,{id:"value-not-equal",children:"Value Not Equal"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"{Body.user.age} {ne} {30}"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Checks if ",(0,i.jsx)(n.code,{children:"user.age"})," is not equal to ",(0,i.jsx)(n.code,{children:"30"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"check-value-in-array",children:"Check Value in Array"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"{Header.x-label} {in} {Body.labels[].title}"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Checks if the value of the ",(0,i.jsx)(n.code,{children:"x-label"})," header exists in any of the ",(0,i.jsx)(n.code,{children:"title"})," fields in the ",(0,i.jsx)(n.code,{children:"labels"})," array."]}),"\n",(0,i.jsx)(n.h3,{id:"string-starts-with",children:"String Starts With"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"{Body.username} {startsWith} {admin_}"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Checks if the ",(0,i.jsx)(n.code,{children:"username"})," starts with the string ",(0,i.jsx)(n.code,{children:'"admin_"'}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"supported-operators",children:"Supported Operators"}),"\n",(0,i.jsx)(n.p,{children:"The following operators can be used to compare the values:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Operator"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{eq}"})}),(0,i.jsx)(n.td,{children:"Equal to"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ne}"})}),(0,i.jsx)(n.td,{children:"Not equal to"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{in}"})}),(0,i.jsx)(n.td,{children:"Left-hand value exists in the right-hand list or array projection"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{notIn}"})}),(0,i.jsxs)(n.td,{children:["Left-hand value does ",(0,i.jsx)(n.strong,{children:"not"})," exist in the right-hand list"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{contains}"})}),(0,i.jsx)(n.td,{children:"Left-hand string contains the right-hand string"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{startsWith}"})}),(0,i.jsx)(n.td,{children:"Left-hand string starts with the right-hand string"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{endsWith}"})}),(0,i.jsx)(n.td,{children:"Left-hand string ends with the right-hand string"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"These operators allow for a wide variety of conditions to match your webhook events, ensuring only the relevant requests\nare forwarded."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"array-support",children:"Array Support"}),"\n",(0,i.jsx)(n.p,{children:"You can access and manipulate array elements in conditions in two key ways:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Indexed Access"}),":",(0,i.jsx)(n.br,{}),"\n","You can access specific items in an array by index. For example, ",(0,i.jsx)(n.code,{children:"{Body.items[0].name}"})," retrieves the ",(0,i.jsx)(n.code,{children:"name"})," of the\nfirst item in the ",(0,i.jsx)(n.code,{children:"items"})," array."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Array Projection"}),":",(0,i.jsx)(n.br,{}),"\n","Projecting over arrays allows you to collect all values of a specific field from an array. For example,\n",(0,i.jsx)(n.code,{children:"{Body.items[].name}"})," returns a list of all ",(0,i.jsx)(n.code,{children:"name"})," fields from the ",(0,i.jsx)(n.code,{children:"items"})," array. This is particularly useful with\noperators like ",(0,i.jsx)(n.code,{children:"{in}"})," and ",(0,i.jsx)(n.code,{children:"{notIn}"})," to check if a value exists in any array element."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>o});var r=s(6540);const i={},t=r.createContext(i);function d(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);