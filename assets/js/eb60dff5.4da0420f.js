"use strict";(self.webpackChunkhookah_docs=self.webpackChunkhookah_docs||[]).push([[533],{6710:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"building-blocks/templates","title":"Templates","description":"Templates in Hookah define the body payloads that will be sent to your target webhooks.","source":"@site/docs/building-blocks/templates.md","sourceDirName":"building-blocks","slug":"/building-blocks/templates","permalink":"/hookah-docs/docs/building-blocks/templates","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Hooks","permalink":"/hookah-docs/docs/building-blocks/hooks"},"next":{"title":"Deployment","permalink":"/hookah-docs/docs/category/deployment"}}');var i=s(4848),l=s(8453);const d={sidebar_position:6},o="Templates",r={},c=[{value:"Accessing Payload Data",id:"accessing-payload-data",level:2},{value:"Built-in Template Functions",id:"built-in-template-functions",level:2},{value:"Important Notes",id:"important-notes",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"templates",children:"Templates"})}),"\n",(0,i.jsx)(n.p,{children:"Templates in Hookah define the body payloads that will be sent to your target webhooks."}),"\n",(0,i.jsxs)(n.p,{children:["Template files must be placed inside the configured ",(0,i.jsx)(n.code,{children:"TEMPLATES_PATH"})," directory, and use Go's standard templating\nlanguage."]}),"\n",(0,i.jsxs)(n.p,{children:["When a webhook is triggered, Hookah will load the specified template file (defined in the hook's ",(0,i.jsx)(n.code,{children:"body"})," field) and\nrender it using the original webhook payload."]}),"\n",(0,i.jsx)(n.h2,{id:"accessing-payload-data",children:"Accessing Payload Data"}),"\n",(0,i.jsxs)(n.p,{children:["Inside a template, you can reference fields from the incoming request body using ",(0,i.jsx)(n.strong,{children:"dot notation"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-gohtml",children:"{{ .some.path }}\n"})}),"\n",(0,i.jsx)(n.p,{children:"For example, if the incoming webhook payload includes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "user": {\n    "name": "Jane Doe"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["You can access ",(0,i.jsx)(n.code,{children:"name"})," inside the template like this:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-gohtml",children:"{{ .user.name }}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"built-in-template-functions",children:"Built-in Template Functions"}),"\n",(0,i.jsx)(n.p,{children:"Hookah enriches the template engine with several helpful functions:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Function"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"now"})}),(0,i.jsx)(n.td,{children:"Returns the current time."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"format"})}),(0,i.jsxs)(n.td,{children:["Formats a ",(0,i.jsx)(n.code,{children:"time.Time"})," object using Go's time layout. Example: ",(0,i.jsx)(n.code,{children:'{{ format now "2006-01-02" }}'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"parseTime"})}),(0,i.jsxs)(n.td,{children:["Parses a string into a ",(0,i.jsx)(n.code,{children:"time.Time"})," using the given layout. Example: ",(0,i.jsx)(n.code,{children:'{{ parseTime "2023-01-01" "2006-01-02" }}'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pastTense"})}),(0,i.jsxs)(n.td,{children:["Forms the past tense of a word. Example: ",(0,i.jsx)(n.code,{children:'{{ pastTense "open" }}'})," \u2192 ",(0,i.jsx)(n.code,{children:"opened"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"lower"})}),(0,i.jsxs)(n.td,{children:["Converts a string to lowercase. Example: ",(0,i.jsx)(n.code,{children:'{{ lower "HELLO" }}'})," \u2192 ",(0,i.jsx)(n.code,{children:"hello"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"upper"})}),(0,i.jsxs)(n.td,{children:["Converts a string to uppercase. Example: ",(0,i.jsx)(n.code,{children:'{{ upper "hello" }}'})," \u2192 ",(0,i.jsx)(n.code,{children:"HELLO"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"title"})}),(0,i.jsxs)(n.td,{children:["Converts a string to title case. Example: ",(0,i.jsx)(n.code,{children:'{{ title "hello world" }}'})," \u2192 ",(0,i.jsx)(n.code,{children:"HELLO WORLD"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"trim"})}),(0,i.jsxs)(n.td,{children:["Removes leading and trailing whitespace. Example: ",(0,i.jsx)(n.code,{children:'{{ trim "  hello  " }}'})," \u2192 ",(0,i.jsx)(n.code,{children:"hello"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"contains"})}),(0,i.jsxs)(n.td,{children:["Checks if a string contains a substring. Example: ",(0,i.jsx)(n.code,{children:'{{ contains "hello world" "world" }}'})," \u2192 ",(0,i.jsx)(n.code,{children:"true"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"replace"})}),(0,i.jsxs)(n.td,{children:["Replaces all occurrences of a substring. Example: ",(0,i.jsx)(n.code,{children:'{{ replace "hello world" "world" "Go" }}'})," \u2192 ",(0,i.jsx)(n.code,{children:"hello Go"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"default"})}),(0,i.jsxs)(n.td,{children:["Returns a fallback value if the field is missing or empty. Example: ",(0,i.jsx)(n.code,{children:'{{ default .user.name "Guest" }}'})]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"important-notes",children:"Important Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Templates must generate ",(0,i.jsx)(n.strong,{children:"valid JSON"})," after rendering, as they are directly sent in outgoing HTTP requests."]}),"\n",(0,i.jsx)(n.li,{children:"If a template cannot be rendered properly (syntax errors, missing fields, etc.), the webhook call will fail for that\nhook."}),"\n",(0,i.jsxs)(n.li,{children:["It's good practice to use ",(0,i.jsx)(n.code,{children:"default"})," functions when referencing optional fields to avoid empty or invalid JSON output."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>o});var t=s(6540);const i={},l=t.createContext(i);function d(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);